{% extends "layout.html" %}

{% block title %}{{ user.username }}'s Profile{% endblock title %}

{% block body %}
<div class="media animated fadeInDown fast" style="z-index: -1">
  <div class="container">
    <div class="row">
      <div class="col-md-auto">
        <img class="rounded-circle account-img" src="{{ url_for('static', filename='profile_pics/' + user.image_file) }}">
      </div>
      <div class="col">        
        <div class="media-body">
          <h2 class="account-heading">{{ user.username }}</h2>
          <h4>{{ user.sp|int }} SP (#{{ get_user_rank(user) }})</h4>
          <h4>{{ user.title }}</h4>
        </div>
      </div>
      <div class="col text-right">
        <a role="button" class="btn btn-primary" href="{{ url_for('users.send_message', recipient=user.username) }}">Send Message</a>
      </div>
    </div>
  </div>
</div>
<hr>
<div class="jumbotron animated fadeInLeft fast">
  <div class="row">
    <div class="col">
      <div class="card">
       <h5 class="card-header">
         Information
       </h5>
       <div class="card-body">
          <div class="row">
            <div class="col">
              <h5><strong>Bio</strong></h5>
              {{ user.bio }}
            </div>
            <div class="col">
              <h5><strong>Favourite Song</strong></h5>
              {{ user.favsong }}
            </div>
          </div>
       </div>
      </div>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <div class="card">
        <h5 class="card-header">
          Top 50 Scores
        </h5>
        <div class="card-body">
          score_table(topscores, verified=False)
        </div>
      </div>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <div class="card">
        <h5 class="card-header">
          First Place Scores
        </h5>
        <div class="card-body">
          score_table(firstscores, verified=False)
        </div>
      </div>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <div class="card">
        <h5 class="card-header">
          Recent Scores
        </h5>
        <div class="card-body">
          score_table(recentscores, verified=True)
          <a href="{{url_for('users.user_posts', username=user.username)}}" class="btn btn-primary" role="button" aria-pressed="True">View All</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock body %}
